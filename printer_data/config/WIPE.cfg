[gcode_macro WIPE_PURGE_ABS]
gcode:
   {% set CLEAN_SHAKE_TEMP = params.EXTRUDER_TEMP|default(200)|float %} 
    
    RESPOND MSG="GOING TO POSITION TO WIPE"
    G90
    G1 Y 320 F6000
    G1 X 40 Y320 F6000
    G1 X 40 Y345 F1500
    PURGE_ABS
    RESPOND MSG="WIPE"
    G1 X 60 Y 345 F5000
    G1 X 40 Y 345 F5000
    G1 X 60 Y 345 F5000
    G1 X 40 Y 345 F5000
    RESPOND MSG="GOING TO A CLEAN SHAKE TEMP TO WIPE"
    M109 S{CLEAN_SHAKE_TEMP}
    RESPOND MSG="WIPE"
    G1 X 60 Y 345 F5000
    G1 X 40 Y 345 F5000
    G1 X 60 Y 345 F5000
    G1 X 40 Y 345 F5000
    G1 X 60 Y 345 F5000
    G1 X 40 Y 345 F5000
    G1 X 60 Y 345 F5000
    
    G1 X 60 Y 320 F6000




[gcode_macro WIPE]
gcode:
    
    
    RESPOND MSG="WIPE"
    G90
    G1 Y 320 F6000
    G1 X 40 Y320 F6000
    G1 X 40 Y345 F1500
    
    
    G1 X 60 Y 345 F5000
    G1 X 40 Y 345 F5000
    G1 X 60 Y 345 F5000
    G1 X 40 Y 345 F5000

    G1 X 60 Y 345 F5000
    
    G1 X 60 Y 320 F6000